

Миграции тестирование работы в бою

	Заливаем актуальный дамп в бд.

	Создаем новое поле в модели.

	Выполняем ./manage.py makemigrations

	Выполняем ./manage.py migrate

	Должно успешно создасться новое поле в бд.

Менеджеры модели и queryset-ы

	Queryset-ы модели более гибче, чем менеджеры модели и похожи на фильтры. Используются не вместо Book.objects, а вместе с Book.objects.queryset_method()

		class ProductCardQuerySet:
			def get_actual(self):
				return 'actual'

		objects = ProductCardQuerySet.as_manager()

	Есть дилемма: где создавать метод, который работает с queryset, а потом преобразует его к листу через values_list? Ответ: Я предпочитаю возвращать queryset, а потом после вызова метода дописывать values_list.

	В кастомном queryset-е не переопределяется метод get_queryset, только в кастомном менеджере.
	
Контекст

	from django.template import Template, Context

	tmpl = 'Country: {{ my }}'

	context = {'my': 'myvar'}

	Template(tmpl).render(Context(context))

	Выведет 'Country: myvar'



		