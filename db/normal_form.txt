Оглавление

	Что это

	Термины

	Первая нормальная форма

	Вторая нормальная форма

	Третья нормальная форма

	Нормальная форма Бойса-Кодда

Что это

	Нормализация - процесс организации данных в бд.

	Нормализация позволяет устранить дублирование данных и неправильные связи.

	В процессе нормализации происходит Последовательное приведение таблиц к нормальным формам. И только потом выстраиваются связи таблиц. 

	Нормальная форма - правило нормализации бд.

	Бывают следующие нормальные формы: 1-я, 2-я, 3-я, нормальная форма Бойса-Кодда, 4-я, 5-я, доменно-ключевая нормальная форма, 6-я.

	Обычно при нормализации доходят до 3 нормальной формы и этого оказывается достаточно.

Термины

	Атрибут - поле таблицы

	Домен атрибута - значения, которые может принимать поле таблицы.

	Кортеж - строка таблицы, которая описывает некоторую сущность.

Первая нормальная форма

	Если все поля имеют единственное целое значение.

	Неправильно:

		Mark  Model

		BMW   X5, A6, Q3

	Правильно:

		Mark  Model

		BMW   X5

		BMW	  A6

		BMW	  Q3

		Audi  A6

Вторая нормальная форма

	Если таблица находится в 1НФ + значение полей, которые повторяются и относятся к одной сущности, вынесены в отдельную таблицу и связаны по первичному ключу.

	Неправильно:

		Mark  Model  Discount

		BMW   X5     5%

		BMW	  M1     5%

		BMW	  X5M    5%  

		Audi  A6     6%

		В этом примере поле Discount имеет повторяющееся значение полей для одной сущности BMW.

	Правильно:

		Mark  Model

		BMW   X5

		BMW	  A6

		BMW	  Q3

		Audi  A6

		--------------

		Mark  Discount

		BMW   5% 

		Audi  6%

		В данном примере во второй таблице в роли первичного ключа выступают значения поля Mark.

Третья нормальная форма
	
	Если все поля, которые повторяются вынесены в отдельные таблицы и связаны с правильными первичными ключами.

	Неправильно:

		Mark    Market  Phone

		BMW     w       555 

		Nissan  w       555

		Audi    a 	    888

		В данной таблице поля Market и Phone дублируются, а поле Phone зависит не от первичного ключа Mark, а от первичного ключа Market.

	Правильно:

		Mark  Market

		BMW      w

		Nissan   w

		Audi     a

		-----------

		Market  Phone

		w       555 

		w       555

		a 	    888

		Теперь получается, что у марки машины есть магазин, где она продаётся, а у магазина есть телефон.

Нормальная форма Бойса-Кодда

	Если отношение имело 2 первичных ключа, которые пересекались по какому то полю, а сейчас это поле вынесено в отдельную таблицу.

	Неправильно:

		Номер стоянки  Время начала  Время окончания  Тариф

		1              09:30         10:30            Бережливый

		1              11:00         12:00            Бережливый

		1              14:00         15:30            Стандарт

		2              10:00         12:00            Премиум-В

		2              12:00         14:00            Премиум-В

		2              15:00         18:00            Премиум-А

		Здесь первичными ключами являются Номер стоянки и Тариф.

		Они пересекаются по полям Время начала и Время окончания, потому что и у Номер стоянки может быть время начала и окончания и у Тариф.

		Чтобы устранить это можно привязать время и вынести в отдельную таблицу, а номер стоянки связать с тарифом.

	Правильно:    

		Тариф       Номер стоянки  Имеет льготы

		Бережливый  1              Да

		Стандарт    1              Нет

		Премиум-А   2              Да

		Премиум-В   2              Нет

		---------------------------------------

		Тариф       Время начала   Время окончания

		Бережливый  09:30          10:30

		Бережливый  11:00          12:00

		Стандарт    14:00          15:30

		Премиум-В   10:00          12:00

		Премиум-В   12:00          14:00




