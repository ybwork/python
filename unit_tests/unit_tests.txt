Оглавление

	Что это

	Схема написания

	Нюансы в Django

	Hypothesis

Что это

	Это тесты, которые проверяют поведение функций и методов.

	Их еще называют модульными тестами.

	Они проверяют код и доказывают, что он работает.

Схема написания

	Узнаем, что нужно сделать.

	Придумываем, как мы это будем делать.

	Разбиваем каждую реализацию на части. В идеале каждая часть это функция.

	Определяем, что должна делать функция и что должна возвращать.

	Определяем все варианты работы функции в зависимости от входных параметров.

	Например метод Question.was_published_recently() должен возвращать True, если Question был опубликован в последние сутки. Таким образом мы можем проверить поведение функции если Question был опубликован в последние сутки, в прошлом и в будущем.

	Теперь пишем методы теста.

	Каждый метод отвечает за что то одно.

	Например def test_was_publish_recently_with_future_question()

	После написания всех методов теста для конкретного куска функционала, идём и создаём этот функционал в приложении.

	Запускаем тесты.

	Если прошли, то делаем коммит. Если нет, то исправляем ошибки.

Нюансы в Django

	Если класс в котором написаны тесты наследуется от from django.test import TestCase, то при выполнении будет создана новая, пустая и временная база данных.

	Если класс в котором написаны тесты наследуется напрямую от unittest.TestCase (класс чистого python для тестирования), то при выполнении будет использована боевая база данных и это может иметь последствия.

Hypothesis

	Упрощает юнит тестирование