Банк клиент

	Аутентификация

		Первым запросом приложение отправляет в банк клиент api_key и номер рассчётного счёта покупателя

		Когда клиент нажал "оплатить", банк должен удостовериться, что это действие действительно от клиента банка

		Банк находит email пользователя (в идеале телефон) по рассчётному счёту и отправляет код подтверждения

		Клиент вводит код и если он совпадает, то выполняется запрашиваемая операция.

	Маска рассчётного счёта

		id банка + os.urandom(5)

	Баланс клиента

		Отдаётся только при прохождении аутентификации

	Снятие-зачисление денежных средств

		Если одинаковые банки, то сняли с одного счёта и зачислили на другой

		Если разные банки, то сначала посчитали процент, а потом сняли-зачислили

		Делается в фоновом режими

		Каждое снятие-зачисление фиксируем (нужно для возврата денег в случае неуплаты в срок)

	Возврат средств

		После снятия-зачисления средст банк клиент генерирует ключ операции и отправляет вместе с ответом в торговую площадку

		Торговая площадка сохраняет этот ключ у себя, связывая его с предложением

		Когда потребуется вернуть все средства по "предложению", мы собирём все ключи транзакции и попросим банк клиент вернуть все деньги обратно клиенту







	
	

