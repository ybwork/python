Оглавление

	В IT существует несколько методов изучения:

	   RTFM

	   dig into sources / scratches
	   
	   do it yourself

	Процесс

		Процесс - программа, которая выполняется в текущий момент.

	Поток

		Поток - 

	Запрос

	Web сервер

	База данных

		Ключи и соединения таблиц (всякий JOIN), соединения запросов (UNION, INTERSECT, EXCEPT)

		Подзапросы

		Индексы

		Postgresql: вьюхи, курсоры, индексы, ограничения, хранимые процедуры, триггеры, windows-функции

		Уровень администрирования: уметь завести пользователя и дать права, понимать, где лежат настройки, где база, где логи; что в postgresql.conf, что в pg_hba.conf

		Бекапы и восстановление postgresql

		DML, DQL (select-insert-update-delete)

		Транзакции, уровни изоляции

		Профилирование, EXPLAIN, оптимизация запросов

		Настройка доступа, allow, deny postgresql

		Redirect и rewrite postgresql

	Сессии

	Куки

Запрос

	Пользователь вводит в адресную строку браузера название сайта и нажимает enter.

	Браузер анализирует запрос на его тип. Может быть поисковой запрос, а может быть запрос к серверу.

	Если поисковой запрос, то браузер отправляет его в поисковую систему и выдаёт результат.

	Если запрос к серверу, то браузер идёт в файл hosts, который находится на локальной машине.

	В файле hosts браузер ищёт доменное имя, которое ввёл пользователь.

	Если не находит, то отправляет запрос на внешний dns сервер.

	Если находит, то берёт соответствующий этому домену ip, подставляет невидимым образом в адресную строку и добавляет к нему порт 80.

	Дальше браузер отправляет запрос на этот порт.

	Порт 80 по умолчанию слушает веб сервер nginx.

	Nginx получает запрос, обрабатывает его и в зависимости от запроса либо отдаёт в ответ статический контент (например файл html), либо пересылает запрсо на application сервер.

	Если запрос отправлен на application сервер, то он его принимает, обрабатывает, запускает приложение на каком то из языков программирования и возвращает ответ в веб сервер, а тот уже возвращает ответ клиенту.

	Взаимодействие клиент - сервер осуществляется с помощью протокола HTTP.

    HTTP - протокол передачи гипертекста.

    Основой HTTP является ресурс, на который указывает URI в запросе клиента.

	URI	- идентификатор ресурса, например google.com

	Обычно такими ресурсами являются хранящиеся на сервере файлы.

	URI состоит из схемы, иерархической части

	Схема сообщает по какому протоколу клиент хочет получить ресурс: http/ftp/file

	Иерархическая часть передаёт доменное имя ресурса: google.com/127.0.0.1/172.15.0.1:8000

	URL - это URI, который помимо идентификатора ресурса, предоставляет информацию о его местонахождении, например .../users

	DNS - это система доменных имён.

	DNS используется для получения ip адреса компьютера.

	DNS позволяет преобразовывать ip адрес в доменное имя.

	Основой DNS является доменное имя и доменная зона.
	
	Доменное имя - это уникальный идентификатор, который присваивают ip адресу. (google.com)

	Полное доменное имя состоит из имени домена и далее имён всех доменов, в которые он входит, разделённых точками. 

	Например, полное имя ru.wikipedia.org обозначает домен третьего уровня ru, который входит в домен второго уровня wikipedia, который входит в домен верхнего уровня org, который входит в безымянный корневой домен . (точка). 

	В обыденной речи под доменным именем нередко понимают именно полное доменное имя.

	Доменная зона - совокупность доменных имён определённого уровня, входящих в конкретный домен. 

	Каждый сервер, отвечающий за доменное имя, может делегировать ответственность за дальнейшую часть домена другому серверу, который за него отвечет.

	Это позволяет возложить ответственность за актуальность информации на серверы различных организаций (людей), отвечающих только за свою часть доменного имени.

	Поддомен - это домен, который является частью домена более высокого уровня.

	Например, mail.example.com и calendar.example.com являются поддоменами example.com, который в свою очередь является поддоменом домена верхнего уровня .com

	Поиск поддомена осуществляется с помощью проверки dns записей.

	DNS записи могут храниться в файле hosts на локальной машине пользователя, а может на внешнем dns-сервере.

	В работе dns есть такой параметр, как TTL.

	TTL (Time to live) - это время актуальности доменного имени.

	Типичное значение TTL составляет 24 часа. 

	Это означает, что при изменении записи DNS, вплоть до 24 часов после изменения, DNS-серверы по всему миру могут выдавать ресурсы по старому доменному имени.
		
	При настройки DNS используются ресурсные записи.

	Ресурсные записи необходимы для работы определённых служб.

	Запись A необходима для связи домена и IP-адреса сервера. Проще говоря, для работы вашего сайта и всех поддоменов.

	Запись типа NS указывает, какие DNS-серверы хранят информацию о домене. Критически важна для работы службы DNS.

Web сервер

	Это программа, которая устанавливается на компьютер.

	Web сервер нужен для осуществления клиент-серверного взаимодействия.

	Web сервер позволяет отправлять в ответ на запрос клиента статический или динамический контент.

	Для оптимизации скорости отдачи статического контента используется CDN.

	CDN - это сеть доставки содержимого.

	CDN ускоряет отдачу статического контента пользователю.

	Под контентом чаще всего подразумевают видео и статические элементы веб-сайтов, не требующие выполнения кода на сервере, такие как css, js.

	Так же к контенту относятся и совсем неожиданные вещи, например игры в steam использует CDN для отдачи игр.

	Все современные CDN размещают копии контента на разных серверах по всему миру и направляют клиента на ближайший сервер. Результат - сокращение задержки между запросом и ответом.

	В клиент-серверном взаимодействие существует такое понятие, как proxy-сервер.

	Proxy-сервер (обратный proxy-сервер) - это сервер, который выполняет роль посредника между клиентом и проксируемым сервером.

	Проксируемый сервер - это сервер на который proxy-сервер передаёт запрос клиента.

	Tcp сокет - это интерфейс взаимодействия между разными программами.

	Tcp сокет состоит из ip и порта.

	На высоком уровне это работает так:

		Например есть chrome и nginx. 

		Chrome делает запрос к nginx на адрес 127.0.0.1:80

		Этому адресу в памяти или директории компьютера соответствует файл.

		Файл открывается и туда происходит запись.

		Nginx в свою очередь постоянно проверяет этот файл на наличие новых записей.

		Если появляется новая запись, то nginx понимает, что к нему пришёл новый запрос от клиента и обрабатывает его. 

	При взаимодействие клиент-сервер есть такое понятие, как перенаправление.

	Если в ответ на запрос клиента сервер отправил код со статусом 3xx, то браузер использует новый предоставленный URL-адрес и немедленно загружает его.

	Есть постоянные перенаправления.

	Они подразумевают, что оригинальный URL-адрес больше не должен использоваться, а вместо него должен быть использован новый. 

	Такие перенаправления создаются статус кодами 301 и 308.

	Есть временные перенаправления.

	Они подразумевают, что доступ к запрашиваемому ресурсу не может быть предоставлен из определенного места, но может быть предоставлен из другого. При этом поисковые роботы не запоминают новую, временную ссылку.

	SAPI - 

			как связано с wsgi

		WSGI

			стандарт и его реализации; CGI, FastCGI, uWSGI

Обмен данными по ip

	ip - это интернет протокол.

	Он позволяет передавать данные от одного сервера к другому в сети интернет.

	Обычно в пространстве пользователя исполняется несколько процессов, в каждом из которых выполняется какая-либо программа. В случае если несколько программ используют компьютерную сеть, то ОС периодически получает по сети IP-пакет, предназначенный для одной из программ.

Сессии

	Это механизм, который позволяет сохранять состояние при http запросе.

Куки

	Фрагмент данных, который изначально устанавливает сервер в браузер, а потом браузер передаёт этот фрагмент с каждым последующим запросом.

	Нужен для передачи состояния в http запросе.

Приёмы проектирования ооп: композиция, агрегация, делегирование








