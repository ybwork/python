Взять для каждого товара актуальную цену по дате (последнюю), название
	
1. На больших объёмах работает медленно

	SELECT 
		price.*,
		product.name
	FROM 
		public.product_price AS price
	JOIN (
		SELECT 
			price.product_id,
			MAX(price.date)
		FROM 
			public.product_price AS price
		GROUP BY 
			price.product_id
	) AS p ON
		price.product_id = p.product_id
		AND price.date = p.max

	JOIN public.product_product AS product ON product.id = p.product_id

2. Нарушает нормальные формы

	SELECT
		product.name,
		price.price
	FROM
		public.product_product AS product
	JOIN
		public.product_price AS price
	ON
		price.product_id = product.id AND product.date = price.date

3. Слишком сложный запрос

	SELECT
		product.name,
		product_info.price_updated_at,
		price.price
	FROM
		public.product_product AS product
	JOIN
		public.product_info AS product_info
	ON
		product.id = product_info.product_id
	JOIN
		public.product_price AS price
	ON
		price.date = product_info.price_updated_at

4. То, что нужно (если 1 запрос перестаёт справляться)

	Product (id, name, price_id)

	Price (id, price, date, product_id)

	SELECT
		product.name,
		price.price
	FROM
		public.product_product AS product
	JOIN
		public.product_price AS price
	ON
		price.id = product.price_id


Максимальную дату для каждой позиции, только по таблице с ценами (группировка, аггрегация)

	SELECT
		price.product_id,
		MAX(price.date)
	FROM 
		public.product_price AS price
	GROUP BY
		price.product_id

	где product_id = product_id дата равна максимальная дата

		SELECT price.product_id FROM public.product_price AS price GROUP BY price.product_id